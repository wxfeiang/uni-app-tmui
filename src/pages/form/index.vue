<script setup lang="ts">
import { FormOptions } from "@/components/dy-form/types/types";
const formVal = ref({
  username: "admim",
  password: "123456",
  radio: 3,
  checkbox: [1],
  switch: true,

  rate: 1,
  slider: 40,
  segtab: "2",
  stepper: 20,

  pickerArr: [], // å¼¹å‡ºé€‰ä¸­çš„ å’Œç»‘å®šçš„å­—æ®µä¸ä¸€æ ·

  time: "",
  time2: "",
  time3: [],
  time3Str: [],

  dateStr: "",
  dateArry: [],

  city: [],

  keyboard: "",
  upload: [
    "public/uploads/image/1711870662452-0b2e2976-f237-41f9-8ce0-6c0813b3bf6c.png",
    "public/uploads/image/1711869878456-3045e1d1-c798-46b5-833e-1d03a0755267.jpg",
  ],
});
const options = ref<FormOptions[]>([
  {
    type: "input",

    label: "ç”¨æˆ·å",
    prop: "username",
    placeholder: "è¯·è¾“å…¥ç”¨æˆ·å",
    rules: [{ required: true, message: "ä¸èƒ½ä¸ºç©º" }],
    formItemAttrs: {
      desc: "è¡¨å•é¡¹ç›®ç”¨æˆ·å",
      required: true,
    },
    typeAttrs: {
      // suffixLabel: "å…ƒ",
      //inputPadding: [30, 20],
      // transprent: true,
      // showBottomBotder: false,
    },
  },
  {
    type: "input",
    value: "123456",
    label: "å¯†ç ",
    prop: "password",
    placeholder: "è¯·è¾“å…¥å¯†ç ",
    rules: [
      {
        required: true,
        message: "ç”¨æˆ·åä¸èƒ½ä¸ºç©º",
        trigger: "blur",
      },
    ],
    typeAttrs: {
      password: true,
      // prefix: "tmicon-lock-fill",
    },
  },

  {
    type: "radio-group",

    label: "æ°´æœå•é€‰",
    prop: "radio",
    placeholder: "è¯·é€‰æ‹©",
    rules: [{ required: true, message: "è¯·é€‰æ‹©æ°´æœ" }],
    children: [
      {
        text: "è‹¹æœ",
        id: 1,
      },
      {
        text: "é¦™è•‰",
        id: 2,
      },
      {
        text: "æå­",
        id: 3,
      },
      {
        text: "æ¤°å­",
        id: 4,
      },
    ],
  },
  {
    type: "checkbox-group",

    label: "æ°´æœå¤šé€‰",
    prop: "checkbox",
    placeholder: "è¯·é€‰æ‹©",
    rules: [{ required: true, message: "è¯·é€‰æ‹©æ°´æœ" }],
    children: [
      {
        text: "è‹¹æœ",
        id: 1,
      },
      {
        text: "é¦™è•‰",
        id: 2,
      },
      {
        text: "æå­",
        id: 3,
      },
      {
        text: "æ¤°å­",
        id: 4,
      },
    ],
  },
  {
    type: "switch",
    label: "çŠ¶æ€",
    prop: "switch",
    placeholder: "è¯·é€‰æ‹©",
    rules: [{ required: true, message: "è¯·é€‰æ‹©çŠ¶æ€" }],
  },
  {
    type: "rate",

    label: "è¯„åˆ†",
    prop: "rate",
    placeholder: "è¯·é€‰æ‹©",
    rules: [{ required: true, message: "è¯·é€‰æ‹©çŠ¶æ€" }],
  },
  {
    type: "slider",
    label: "æ»‘å—",
    prop: "slider",
    placeholder: "è¯·é€‰æ‹©",
    rules: [{ required: true, message: "è¯·é€‰æ‹©çŠ¶æ€" }],
  },
  {
    type: "segtab",

    label: "åˆ†å‰²é€‰æ‹©",
    prop: "segtab",
    placeholder: "è¯·é€‰æ‹©",
    rules: [{ required: true, message: "è¯·é€‰æ‹©" }],
    typeAttrs: {
      list: [
        { text: "è‹¹æœ", id: "1" },
        { text: "å•ªå•ªå¹²", id: "2" },
      ],
    },
  },

  {
    type: "stepper",

    label: "åˆ†å‰²é€‰æ‹©",
    prop: "stepper",
    placeholder: "è¯·é€‰æ‹©",
    rules: [{ required: true, message: "è¯·é€‰æ‹©" }],
    typeAttrs: {
      width: 200,
      height: 62,
      //	:beforeEnter="beforeEnter"
      // color: "red",
      // linear: "bottom",
      bgColor: "red",
      // circular: true,
    },
  },
  {
    type: "picker",

    label: "å¼¹å‡ºé€‰æ‹©",
    prop: "pickerStr",
    pickerIndex: "pickerArr",
    pickerShow: false,
    placeholder: "è¯·é€‰æ‹©",
    rules: [{ required: true, message: "è¯·é€‰æ‹©" }],
    // formItemAttrs: {
    //   class:"flex flex-row flex-row-center-between"
    // },
    typeAttrs: {
      columns: [
        {
          text: "è‹¹æœ",
          id: 1,
        },
        {
          text: "é¦™è•‰",
          id: 2,
        },
        {
          text: "æå­",
          id: 3,
        },
        {
          text: "æ¤°å­",
          id: 4,
        },
      ],
      selectedModel: "id",
    },
  },

  {
    type: "time-picker",

    label: "æ—¶é—´é€‰æ‹©",
    prop: "time",
    pickerShow: false,
    placeholder: "è¯·é€‰æ‹©",
    rules: [{ required: true, message: "è¯·é€‰æ‹©æ—¶é—´" }],
    typeAttrs: {
      // format: "YYYYå¹´MMæœˆDDæ—¥",
      showDetail: { year: false, month: false, day: false, hour: true },
    },
  },
  {
    type: "time-between",
    label: "æ—¶é—´èŒƒå›´",
    prop: "time3",
    pickerIndex: "time3Str",
    pickerShow: false,
    placeholder: "è¯·é€‰æ‹©",
    rules: [{ required: true, message: "è¯·é€‰æ‹©æ—¶é—´" }],
    // typeAttrs: {
    //   // format: "YYYYå¹´MMæœˆDDæ—¥",
    //   showDetail: { year: false, month: false, day: false, hour: true },
    // },
  },

  {
    type: "time-picker",
    label: "ç²¾ç¡®é€‰æ‹©",
    prop: "time2",
    pickerShow: false,
    placeholder: "è¯·é€‰æ‹©",
    rules: [{ required: true, message: "è¯·é€‰æ‹©æ—¶é—´" }],
    typeAttrs: {
      // format: "YYYYå¹´MMæœˆDDæ—¥",
      showDetail: { year: true, month: true, day: true, hour: true },
    },
  },
  {
    type: "date-picker",

    label: "æ—¥æœŸé€‰æ‹©",
    prop: "dateArry",
    pickerShow: false,
    pickerIndex: "dateStr",
    rules: [{ required: true, message: "è¯·é€‰æ‹©æ—¥æœŸ" }],
    typeAttrs: {
      format: "YYYYå¹´MMæœˆDDæ—¥",
      model: "day", ///  day week month quarter year rang
      // start: "2024-01-01",
      // end: "2024-12-31",
    },
  },
  {
    type: "city-picker",
    label: "åœ°åŒºé€‰æ‹©",
    prop: "city",
    pickerShow: false,
    pickerIndex: "cityStr",
    placeholder: "è¯·é€‰æ‹©",
    rules: [{ required: true, message: "è¯·é€‰æ‹©æ—¶é—´" }],
    typeAttrs: {
      // format: "YYYYå¹´MMæœˆDDæ—¥",
      showDetail: { year: true, month: true, day: true, hour: true },
    },
  },
  {
    type: "keyboard",

    label: "ç‰¹æ®Šé”®ç›˜",
    prop: "keyboard",
    pickerShow: false,
    placeholder: "è¯·è¾“å…¥",
    rules: [{ required: true, message: "è¾“å…¥" }],
    typeAttrs: {
      type: "card", // password card car number
    },
  },
  {
    type: "upload",
    label: "æˆªå›¾",
    prop: "upload",
    pickerShow: false,
    placeholder: "è¯·ä¸Šä¼ æˆªå›¾",
    rules: [{ required: true, message: "è¯·ä¸Šä¼ æˆªå›¾" }],
    typeAttrs: {
      rows: 3,
      width: 420,
    },
  },
]);
const btn = () => {
  console.log("ğŸŸ", formVal.value);
};
</script>
<template>
  <tm-app>
    <tm-sheet> è¡¨å•ç»„ä»¶ </tm-sheet>
    <tm-sheet @click="btn"> ä¸»ç»„ä»¶è·å– </tm-sheet>

    <dy-from :options="options" v-model:formVal="formVal"></dy-from>
  </tm-app>
</template>
